{% extends "html/page.twig" %}

{% block title %}Create report{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ base }}/public/css/report_list.css"/>
{% endblock %}

{% block header %}
{% endblock %}

{% block content %}
    <div class="row">
        <div id="table_of_contents" class="col-lg-2 col-md-3 hidden-xs hidden-sm bs-sidebar">
            <h2>Tables</h2>
            <ol class="nav bs-sidenav">
                <li>
                    <form method="get">
                        <input type="hidden" name="report" value="{{ reportId }}"/>

                        <label for="column">Column</label>
                        <select name="column" id="column" class="form-control">
                            {% for table in tables %}
                                {{ table.name }}
                                {% for column in table.databaseColumns %}
                                    <option value="{{ column.id }}">{{ table.name }}.{{ column.name }}</option>
                                {% endfor %}
                            {% endfor %}
                        </select>

                        <label for="type">Type</label>
                        <select name="type" id="type" class="form-control">
                            <option value="measure">Measure</option>
                            <option value="dimension">Dimension</option>
                            <option value="filter">Filter</option>
                        </select>
                        <input type="submit" value="Add" class="btn btn-default"/>
                    </form>
                </li>
            </ol>
        </div>

        <div id="report_list" class="col-lg-10 col-md-9 col-xs-12 col-lg-offset-2 col-md-offset-3">
            <form method="post">
                <input type="hidden" name="subject" value="report"/>
                <input type="hidden" name="action" value="add"/>
                <input type="hidden" name="dataSource" value="{{ dataSource.id }}"/>

                <h1 class="visible-phone">Create a report</h1>

                <label for="name">Report name:</label>
                <input type="text" size="30" name="name" id="name" placeholder="Report name" class="form-control"/>

                <label for="report_type">Rapport type</label>
                <select name="report_type" id="report_type" class="form-control">
                    <option value="LineChart">LineChart</option>
                    <option value="GeoChart">GeoChart</option>
                    <option value="AnnotatedTimeLine">AnnotatedTimeLine</option>
                    <option value="BarChart">BarChart</option>
                    <option value="ColumnChart">ColumnChart</option>
                    <option value="Timeline">Timeline</option>
                    <option value="AreaChart">AreaChart</option>
                    <option value="Histogram">Histogram</option>
                    <option value="ComboChart">ComboChart</option>
                    <option value="BubbleChart">BubbleChart</option>
                    <option value="CandlestickChart">CandlestickChart</option>
                    <option value="Gauge">Gauge</option>
                    <option value="Map">Map</option>
                    <option value="PieChart">PieChart</option>
                    <option value="Sankey">Sankey</option>
                    <option value="ScatterChart">ScatterChart</option>
                    <option value="SteppedAreaChart">SteppedAreaChart</option>
                    <option value="WordTree">WordTree</option>
                </select>

                <h2>Measures</h2>
                {% for measure in reportStorage.measure %}
                    <input type="hidden" name="measures[]" value="{{ measure }}"/>{{ measure }}
                    {{ measure }}
                {% endfor %}
                <h2>Dimensions</h2>
                {% for dimension in reportStorage.dimension %}
                    <input type="hidden" name="dimensions[]" value="{{ dimension }}"/>{{ dimension }}
                {% endfor %}

                <h2>Filters</h2>
                {% for filter in reportStorage.filter %}
                    <input type="hidden" name="filters[]" value="{{ filter }}"/>{{ filter }}
                {% endfor %}

                <input type="submit" value="Add report" class="btn btn-primary"/>
            </form>
        </div>
    </div>
{% endblock %}